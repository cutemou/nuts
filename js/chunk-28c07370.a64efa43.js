(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28c07370"],{"0379":function(t,e,c){"use strict";var o=c("7a23"),r={class:"out-container"},a=Object(o["g"])('<div class="progress-content"><div class="progress-text">Check cart</div><div class="progress-text">Fill out form</div><div class="progress-text">Confirm payment</div></div><div class="progress-container"><div class="progress" id="progress"></div><div class="circle1 active"></div><div class="circle2"></div><div class="circle3"></div></div>',2);function n(t,e,c,n,i,s){return Object(o["u"])(),Object(o["e"])("div",r,[a])}var i={};c("eb21");i.render=n;e["a"]=i},"1dde":function(t,e,c){var o=c("d039"),r=c("b622"),a=c("2d00"),n=r("species");t.exports=function(t){return a>=51||!o((function(){var e=[],c=e.constructor={};return c[n]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"62ca":function(t,e,c){"use strict";c("67ec")},"65f0":function(t,e,c){var o=c("861d"),r=c("e8b5"),a=c("b622"),n=a("species");t.exports=function(t,e){var c;return r(t)&&(c=t.constructor,"function"!=typeof c||c!==Array&&!r(c.prototype)?o(c)&&(c=c[n],null===c&&(c=void 0)):c=void 0),new(void 0===c?Array:c)(0===e?0:e)}},"67ec":function(t,e,c){},"76db":function(t,e,c){"use strict";c.r(e);var o=c("7a23"),r={class:"row justify-content-between"},a={class:"col-lg-7 col-10 mx-auto"},n={class:"d-flex justify-content-between align-items-center"},i={class:"cart-title fw-bold"},s=Object(o["h"])("Continue Shopping"),u=Object(o["i"])("hr",null,null,-1),d={key:0,class:"text-center h1 mt-5"},l=Object(o["h"])(" Your Cart is empty !!"),b=Object(o["i"])("br",null,null,-1),p=Object(o["h"])("Let's go to look for more nuts !! "),h=Object(o["i"])("img",{src:"https://media.istockphoto.com/vectors/set-of-funny-nuts-cartoon-characters-smiling-with-hands-and-legs-on-vector-id1175758858?k=6&m=1175758858&s=612x612&w=0&h=W7JqZySMHdw4Yn7TcgpRT9H85WnmMZXggd_AaefEAYs=",alt:"",class:"mt-1 w-100 h-100"},null,-1),f=Object(o["i"])("hr",null,null,-1),j={class:"col-lg-4"},O={class:"d-flex flex-column"},v={class:"coupon-input-group input-group mb-3"},m={key:0,class:"text-success fw-bold mb-3"},g={class:"order-table p-4 mb-5"},C=Object(o["i"])("div",{class:"h3 text-start ms-2"},"Review Order",-1),y={class:"table bg-order-table text-start"},x={class:"order-table-tr-border fw-bold h6"},_=Object(o["i"])("td",{class:"w-50"}," Total ",-1),w={class:"text-end"},k={key:0,class:"text-success order-table-tr-border fw-bold h6"},$=Object(o["i"])("td",null,"Discount",-1),S=Object(o["i"])("td",{class:"text-end"}," 20% ",-1),M={key:0,class:"order-table-tr-border fw-bold h6"},E=Object(o["i"])("td",null,[Object(o["i"])("del",null,"Final_total")],-1),P={class:"text-end"},U={key:1,class:"text-success order-table-tr-border fw-bold h6"},q=Object(o["i"])("td",null,"Final_total",-1),A={class:"text-end"},T={class:"text-success"},B={key:2,class:"order-table-tr-border fw-bold h6"},F=Object(o["i"])("td",null,"Final_total",-1),J={class:"text-end"},Y=Object(o["i"])("div",{class:"col-5"},null,-1);function H(t,e,c,H,I,N){var R=Object(o["B"])("StepProgress"),V=Object(o["B"])("router-link"),W=Object(o["B"])("CartCard");return Object(o["u"])(),Object(o["e"])("div",null,[Object(o["i"])(R,{class:"step-progress"}),Object(o["i"])("div",r,[Object(o["i"])("div",a,[Object(o["i"])("div",n,[Object(o["i"])("div",i,"Shopping Cart ("+Object(o["E"])(I.carts.length)+")",1),Object(o["i"])(V,{to:"/user/index",class:"cart-continue-buy text-dark fw-bold"},{default:Object(o["M"])((function(){return[s]})),_:1})]),u,0===I.carts.length?(Object(o["u"])(),Object(o["e"])("div",d,[Object(o["i"])(V,{to:"/user/index",class:"text-decoration-none"},{default:Object(o["M"])((function(){return[l,b,p,h]})),_:1})])):Object(o["f"])("",!0),(Object(o["u"])(!0),Object(o["e"])(o["a"],null,Object(o["z"])(I.carts,(function(t){return Object(o["u"])(),Object(o["e"])(o["a"],{key:t.id},[Object(o["i"])(W,{cart:t,onUpdateProduct:N.getCart},null,8,["cart","onUpdateProduct"]),f],64)})),128))]),Object(o["i"])("div",j,[Object(o["i"])("div",O,[Object(o["i"])("div",v,[Object(o["N"])(Object(o["i"])("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return I.coupon_code=t}),placeholder:"Please enter coupon"},null,512),[[o["I"],I.coupon_code]]),Object(o["i"])("button",{class:"btn btn-primary",type:"button",onClick:e[2]||(e[2]=function(){return N.addCouponCode&&N.addCouponCode.apply(N,arguments)}),disabled:I.is_Coupon_code},"Use coupon",8,["disabled"])]),I.is_Coupon_code?(Object(o["u"])(),Object(o["e"])("div",m,"Use coupon successfully !!")):Object(o["f"])("",!0)]),Object(o["i"])("div",g,[C,Object(o["i"])("table",y,[Object(o["i"])("thead",null,[Object(o["i"])("tr",x,[_,Object(o["i"])("td",w," US$ "+Object(o["E"])(I.total),1)]),I.is_Coupon_code?(Object(o["u"])(),Object(o["e"])("tr",k,[$,S])):Object(o["f"])("",!0)]),Object(o["i"])("tbody",null,[I.is_Coupon_code?(Object(o["u"])(),Object(o["e"])("tr",M,[E,Object(o["i"])("td",P,[Object(o["i"])("del",null,"US$ "+Object(o["E"])(I.total),1)])])):Object(o["f"])("",!0),I.is_Coupon_code?(Object(o["u"])(),Object(o["e"])("tr",U,[q,Object(o["i"])("td",A,[Object(o["i"])("div",T,"US$ "+Object(o["E"])(Math.round(100*I.final_total)/100),1)])])):(Object(o["u"])(),Object(o["e"])("tr",B,[F,Object(o["i"])("td",J,[Object(o["i"])("div",null,"US$ "+Object(o["E"])(Math.round(100*I.total)/100),1)])]))])]),Object(o["i"])("button",{class:"btn bg-cart-green w-100 py-3 cart-proceed-button text-white",type:"button",disabled:0===I.carts.length,onClick:e[3]||(e[3]=function(){return N.pushToOrder&&N.pushToOrder.apply(N,arguments)})},"Proceed to chech out",8,["disabled"])])]),Y])])}c("99af");var I={class:"row cart-card"},N={class:"cart-card-img"},R={class:"cart-card-info"},V={class:"cart-card-title"},W={class:"cart-price"},Z={class:"fw-bold"},z=Object(o["i"])("i",{class:"bi bi-trash h3"},null,-1),D={class:"text-end cart-remove"},L=Object(o["i"])("i",{class:"bi bi-trash h3"},null,-1);function X(t,e,c,r,a,n){return Object(o["u"])(),Object(o["e"])("div",I,[Object(o["i"])("div",N,[Object(o["i"])("img",{class:"cart-img",src:c.cart.product.imageUrl,alt:""},null,8,["src"])]),Object(o["i"])("div",R,[Object(o["i"])("div",V,Object(o["E"])(c.cart.product.title),1),Object(o["i"])("div",W,"US $"+Object(o["E"])(c.cart.product.price)+" / "+Object(o["E"])(c.cart.product.unit),1),Object(o["N"])(Object(o["i"])("input",{type:"number",class:"form-control cart-input",min:"1","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.tempCart.qty=t}),onChange:e[2]||(e[2]=function(t){return n.updateCart(c.cart)})},null,544),[[o["I"],a.tempCart.qty,void 0,{number:!0}]]),Object(o["i"])("div",Z,"$"+Object(o["E"])(Math.round(100*a.tempCart.total)/100),1),Object(o["i"])("button",{class:"btn btn-outline-dark border-0 cart-remove-pad",type:"button",onClick:e[3]||(e[3]=function(t){return n.removeProduct(c.cart)})},[z])]),Object(o["i"])("div",D,[Object(o["i"])("button",{class:"btn btn-outline-dark border-0",type:"button",onClick:e[4]||(e[4]=function(t){return n.removeProduct(c.cart)})},[L])])])}var G={data:function(){return{tempCart:{}}},props:["cart"],methods:{updateCart:function(t){var e=this;this.tempCart=t,this.tempCart.total=this.tempCart.qty*this.tempCart.product.price;var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("tim-api","/cart/").concat(t.id),o={product_id:t.product_id,qty:t.qty};this.$http.put(c,{data:o}).then((function(t){e.$pushMessageState(t,"更新購物車"),e.$emit("update-product")}))},removeProduct:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("tim-api","/cart/").concat(t.id);this.$http.delete(c).then((function(t){e.$pushMessageState(t,"刪除購物車"),t.data.success&&(e.emitter.emit("cart-length-change"),e.$emit("update-product"))}))}},created:function(){this.tempCart=this.cart},watch:{cart:function(){this.tempCart=this.cart}},inject:["emitter"]};c("62ca");G.render=X;var K=G,Q=c("0379"),tt={data:function(){return{carts:{},total:0,coupon_code:"",is_Coupon_code:!1,final_total:0}},components:{CartCard:K,StepProgress:Q["a"]},methods:{addToCart:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("tim-api","/cart"),o={product_id:t,qty:1};this.$http.post(c,{data:o}).then((function(t){e.$pushMessageState(t,"加入購物車成功"),e.getCart()}))},getCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("tim-api","/cart");this.$http.get(e).then((function(e){t.carts=e.data.data.carts,t.final_total=Math.round(100*e.data.data.final_total)/100,t.total=Math.round(100*e.data.data.total)/100}))},updateCart:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("tim-api","/cart/").concat(t.id),o={product_id:t.product_id,qty:t.qty};this.$http.put(c,{data:o}).then((function(t){e.$pushMessageState(t,"更新購物車"),e.getCart()}))},addCouponCode:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("tim-api","/coupon"),c={code:this.coupon_code};this.$http.post(e,{data:c}).then((function(e){t.$pushMessageState(e,"優惠卷套用"),e.data.success&&(t.getCart(),t.is_Coupon_code=!0)}))},removeProduct:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("tim-api","/cart/").concat(t.id);this.$http.delete(c).then((function(t){e.$pushMessageState(t,"刪除購物車"),t.data.success&&(e.emitter.emit("cart-length-change"),e.getCart())}))},StepProgress:function(){var t=document.querySelectorAll(".progress-text");t[0].style.color="#3158d8"},pushToOrder:function(){this.$router.push("/user/order")}},created:function(){this.getCart()},mounted:function(){this.StepProgress()},inject:["emitter"]};c("a888");tt.render=H;e["default"]=tt},8418:function(t,e,c){"use strict";var o=c("c04e"),r=c("9bf2"),a=c("5c6c");t.exports=function(t,e,c){var n=o(e);n in t?r.f(t,n,a(0,c)):t[n]=c}},8745:function(t,e,c){},"99af":function(t,e,c){"use strict";var o=c("23e7"),r=c("d039"),a=c("e8b5"),n=c("861d"),i=c("7b0b"),s=c("50c4"),u=c("8418"),d=c("65f0"),l=c("1dde"),b=c("b622"),p=c("2d00"),h=b("isConcatSpreadable"),f=9007199254740991,j="Maximum allowed index exceeded",O=p>=51||!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),v=l("concat"),m=function(t){if(!n(t))return!1;var e=t[h];return void 0!==e?!!e:a(t)},g=!O||!v;o({target:"Array",proto:!0,forced:g},{concat:function(t){var e,c,o,r,a,n=i(this),l=d(n,0),b=0;for(e=-1,o=arguments.length;e<o;e++)if(a=-1===e?n:arguments[e],m(a)){if(r=s(a.length),b+r>f)throw TypeError(j);for(c=0;c<r;c++,b++)c in a&&u(l,b,a[c])}else{if(b>=f)throw TypeError(j);u(l,b++,a)}return l.length=b,l}})},a784:function(t,e,c){},a888:function(t,e,c){"use strict";c("a784")},e8b5:function(t,e,c){var o=c("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}},eb21:function(t,e,c){"use strict";c("8745")}}]);
//# sourceMappingURL=chunk-28c07370.a64efa43.js.map