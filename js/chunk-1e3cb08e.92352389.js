(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e3cb08e"],{"07ac":function(t,e,r){var a=r("23e7"),c=r("6f53").values;a({target:"Object",stat:!0},{values:function(t){return c(t)}})},"159b":function(t,e,r){var a=r("da84"),c=r("fdbc"),n=r("17c2"),o=r("9112");for(var i in c){var u=a[i],s=u&&u.prototype;if(s&&s.forEach!==n)try{o(s,"forEach",n)}catch(d){s.forEach=n}}},"17c2":function(t,e,r){"use strict";var a=r("b727").forEach,c=r("a640"),n=c("forEach");t.exports=n?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,r){var a=r("d039"),c=r("b622"),n=r("2d00"),o=c("species");t.exports=function(t){return n>=51||!a((function(){var e=[],r=e.constructor={};return r[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"3e2b":function(t,e,r){"use strict";r.r(e);var a=r("7a23"),c={class:"row mt-4"},n={class:"breadcrumb ms-2"},o={class:"breadcrumb-item","aria-current":"page"},i=Object(a["h"])("Home"),u={class:"breadcrumb-item"},s={class:"user-product-area d-flex flex-wrap"},d=Object(a["i"])("hr",null,null,-1);function p(t,e,r,p,f,l){var g=this,b=Object(a["B"])("router-link"),h=Object(a["B"])("ProductCard"),v=Object(a["B"])("UserPagination");return Object(a["u"])(),Object(a["e"])("div",null,[Object(a["i"])("div",c,[Object(a["i"])("ol",n,[Object(a["i"])("li",o,[Object(a["i"])(b,{class:" text-decoration-none text-dark bg-light rounded-pill p-2",to:"/user/index"},{default:Object(a["M"])((function(){return[i]})),_:1})]),Object(a["i"])("li",u,[Object(a["i"])(b,{class:" text-decoration-none text-dark bg-light rounded-pill p-2",to:"/user/".concat(this.category)},{default:Object(a["M"])((function(){return[Object(a["h"])(Object(a["E"])(g.category),1)]})),_:1},8,["to"])])]),Object(a["i"])("div",s,[(Object(a["u"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(f.page_product,(function(t){return Object(a["u"])(),Object(a["e"])("div",{key:t.id,class:"user-product"},[Object(a["i"])(h,{product:t,onAddToCart:function(e){return l.addToCart(t.id)}},null,8,["product","onAddToCart"]),d])})),128))]),Object(a["i"])(v,{pages:f.totalPage,onUserProductPage:l.NowPage},null,8,["pages","onUserProductPage"])])])}r("99af"),r("159b"),r("07ac");var f={class:"card border-0 mt-4 card-width d-flex flex-column align-items-center"},l=Object(a["i"])("i",{class:"bi bi-cart3 me-2"},null,-1),g=Object(a["h"])("Add To Cart"),b={class:"card-body product-card-body p-0 pt-2"},h={class:"card-text cart-gray mt-4"};function v(t,e,r,c,n,o){return Object(a["u"])(),Object(a["e"])("div",f,[Object(a["i"])("img",{src:r.product.imageUrl,class:"card-img-top cursor-pointer product-img",alt:"...",onClick:e[1]||(e[1]=function(t){return o.getProduct(r.product.id)})},null,8,["src"]),Object(a["i"])("button",{type:"button",class:"btn btn-cart-green py-2 mt-4 cart-proceed-button fw-bold",onClick:e[2]||(e[2]=function(e){return t.$emit("add-to-cart")})},[l,g]),Object(a["i"])("div",b,[Object(a["i"])("div",{class:"h5 card-title cursor-pointer fw-bold",onClick:e[3]||(e[3]=function(t){return o.getProduct(r.product.id)})},Object(a["E"])(r.product.title),1),Object(a["i"])("p",h,"$"+Object(a["E"])(r.product.price)+"/ "+Object(a["E"])(r.product.unit),1)])])}var O={props:["product"],methods:{getProduct:function(t){this.$router.push("/user/usersingleproduct/".concat(t))}}};r("6b93");O.render=v;var j=O,m={"aria-label":"Page navigation example"},y={class:"pagination justify-content-center"},P=Object(a["i"])("span",{"aria-hidden":"true"},"«",-1),w=Object(a["i"])("span",{"aria-hidden":"true"},"»",-1);function N(t,e,r,c,n,o){var i=this;return Object(a["u"])(),Object(a["e"])("nav",m,[Object(a["i"])("ul",y,[Object(a["i"])("li",{class:["page-item",{disabled:1===this.Nowpage}]},[Object(a["i"])("a",{class:"page-link d-block",href:"#","aria-label":"Previous",onClick:e[1]||(e[1]=Object(a["O"])((function(){return o.updatePage&&o.updatePage.apply(o,arguments)}),["prevent"])),"data-page":this.Nowpage-1},[P],8,["data-page"])],2),(Object(a["u"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(r.pages,(function(t){return Object(a["u"])(),Object(a["e"])("li",{class:["page-item",{active:t===i.Nowpage}],key:t},[Object(a["i"])("a",{class:"page-link d-block",href:"#",onClick:e[2]||(e[2]=Object(a["O"])((function(){return o.updatePage&&o.updatePage.apply(o,arguments)}),["prevent"])),"data-page":t},Object(a["E"])(t),9,["data-page"])],2)})),128)),Object(a["i"])("li",{class:["page-item",{disabled:this.Nowpage===r.pages}]},[Object(a["i"])("a",{class:"page-link d-block",href:"#","aria-label":"Next",onClick:e[3]||(e[3]=Object(a["O"])((function(){return o.updatePage&&o.updatePage.apply(o,arguments)}),["prevent"])),"data-page":this.Nowpage+1},[w],8,["data-page"])],2)])])}r("a9e3");var x={data:function(){return{Nowpage:1}},props:["pages"],methods:{updatePage:function(t){"A"===t.target.nodeName&&(this.Nowpage=Number(t.target.dataset.page),this.$emit("user-product-page",this.Nowpage))}}};x.render=N;var E=x,k={data:function(){return{products:{},category:"",categorized_product:[],totalPage:0,perpage:12,page_product:[],nowPage:1}},components:{ProductCard:j,UserPagination:E},methods:{addToCart:function(t){var e=this,r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("tim-api","/cart"),a={product_id:t,qty:1};this.$http.post(r,{data:a}).then((function(t){e.$pushMessageState(t,"加入購物車"),e.emitter.emit("cart-length-change")}))},getProducts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("tim-api","/products/all");this.$http.get(e).then((function(e){e.data.success&&(t.products=e.data.products,t.categorized_product=[],t.products.forEach((function(e){e.category===t.category&&t.categorized_product.push(e)})),t.totalPage=Math.ceil(t.categorized_product.length/t.perpage),t.nowPage=1,t.pagination(t.nowPage))}))},getProduct:function(t){this.$router.push("usersingleproduct/".concat(t))},countTotal:function(){var t=this;this.total=0,Object.values(this.carts).forEach((function(e){t.total+=e.total}))},pagination:function(t){var e=this;console.log(t),t>this.totalPage&&(t=this.totalPage);var r=t*this.perpage,a=(t-1)*this.perpage+1;this.categorized_product.forEach((function(t,c){var n=c+1;n>=a&&n<=r&&e.page_product.push(t)}))},NowPage:function(t){this.nowPage=t,this.page_product=[],this.pagination(this.nowPage)}},created:function(){var t=this;this.category=this.$route.params.category,this.getProducts(),this.emitter.on("get-product",(function(e){t.category=e,t.page_product=[],t.getProducts()}))},inject:["emitter"]};r("9f5e");k.render=p;e["default"]=k},4452:function(t,e,r){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var a=r("1d80"),c=r("5899"),n="["+c+"]",o=RegExp("^"+n+n+"*"),i=RegExp(n+n+"*$"),u=function(t){return function(e){var r=String(a(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(i,"")),r}};t.exports={start:u(1),end:u(2),trim:u(3)}},"65f0":function(t,e,r){var a=r("861d"),c=r("e8b5"),n=r("b622"),o=n("species");t.exports=function(t,e){var r;return c(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!c(r.prototype)?a(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},"6b93":function(t,e,r){"use strict";r("4452")},"6f53":function(t,e,r){var a=r("83ab"),c=r("df75"),n=r("fc6a"),o=r("d1e7").f,i=function(t){return function(e){var r,i=n(e),u=c(i),s=u.length,d=0,p=[];while(s>d)r=u[d++],a&&!o.call(i,r)||p.push(t?[r,i[r]]:i[r]);return p}};t.exports={entries:i(!0),values:i(!1)}},7156:function(t,e,r){var a=r("861d"),c=r("d2bb");t.exports=function(t,e,r){var n,o;return c&&"function"==typeof(n=e.constructor)&&n!==r&&a(o=n.prototype)&&o!==r.prototype&&c(t,o),t}},8418:function(t,e,r){"use strict";var a=r("c04e"),c=r("9bf2"),n=r("5c6c");t.exports=function(t,e,r){var o=a(e);o in t?c.f(t,o,n(0,r)):t[o]=r}},"99af":function(t,e,r){"use strict";var a=r("23e7"),c=r("d039"),n=r("e8b5"),o=r("861d"),i=r("7b0b"),u=r("50c4"),s=r("8418"),d=r("65f0"),p=r("1dde"),f=r("b622"),l=r("2d00"),g=f("isConcatSpreadable"),b=9007199254740991,h="Maximum allowed index exceeded",v=l>=51||!c((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),O=p("concat"),j=function(t){if(!o(t))return!1;var e=t[g];return void 0!==e?!!e:n(t)},m=!v||!O;a({target:"Array",proto:!0,forced:m},{concat:function(t){var e,r,a,c,n,o=i(this),p=d(o,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(n=-1===e?o:arguments[e],j(n)){if(c=u(n.length),f+c>b)throw TypeError(h);for(r=0;r<c;r++,f++)r in n&&s(p,f,n[r])}else{if(f>=b)throw TypeError(h);s(p,f++,n)}return p.length=f,p}})},"9f5e":function(t,e,r){"use strict";r("b11c")},a9e3:function(t,e,r){"use strict";var a=r("83ab"),c=r("da84"),n=r("94ca"),o=r("6eeb"),i=r("5135"),u=r("c6b6"),s=r("7156"),d=r("c04e"),p=r("d039"),f=r("7c73"),l=r("241c").f,g=r("06cf").f,b=r("9bf2").f,h=r("58a8").trim,v="Number",O=c[v],j=O.prototype,m=u(f(j))==v,y=function(t){var e,r,a,c,n,o,i,u,s=d(t,!1);if("string"==typeof s&&s.length>2)if(s=h(s),e=s.charCodeAt(0),43===e||45===e){if(r=s.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:a=2,c=49;break;case 79:case 111:a=8,c=55;break;default:return+s}for(n=s.slice(2),o=n.length,i=0;i<o;i++)if(u=n.charCodeAt(i),u<48||u>c)return NaN;return parseInt(n,a)}return+s};if(n(v,!O(" 0o1")||!O("0b1")||O("+0x1"))){for(var P,w=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof w&&(m?p((function(){j.valueOf.call(r)})):u(r)!=v)?s(new O(y(e)),r,w):y(e)},N=a?l(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;N.length>x;x++)i(O,P=N[x])&&!i(w,P)&&b(w,P,g(O,P));w.prototype=j,j.constructor=w,o(c,v,w)}},b11c:function(t,e,r){},b727:function(t,e,r){var a=r("0366"),c=r("44ad"),n=r("7b0b"),o=r("50c4"),i=r("65f0"),u=[].push,s=function(t){var e=1==t,r=2==t,s=3==t,d=4==t,p=6==t,f=7==t,l=5==t||p;return function(g,b,h,v){for(var O,j,m=n(g),y=c(m),P=a(b,h,3),w=o(y.length),N=0,x=v||i,E=e?x(g,w):r||f?x(g,0):void 0;w>N;N++)if((l||N in y)&&(O=y[N],j=P(O,N,m),t))if(e)E[N]=j;else if(j)switch(t){case 3:return!0;case 5:return O;case 6:return N;case 2:u.call(E,O)}else switch(t){case 4:return!1;case 7:u.call(E,O)}return p?-1:s||d?d:E}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterOut:s(7)}},e8b5:function(t,e,r){var a=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}}}]);
//# sourceMappingURL=chunk-1e3cb08e.92352389.js.map